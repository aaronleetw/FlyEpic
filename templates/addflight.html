<!DOCTYPE html>
<html>

<head>
    <title>FlyEpic Management</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href='/static/project.css' />
    <link rel="icon" type="image/png" href="/static/favicon.png">
</head>

<body>
    <div>
        <a href="/"><img class="mb-3" style="max-width: 400px;" src="/static/FlyEpic.png" alt=""></a>
    </div>
    <a href="/"><button type="button" class="btn btn-outline-secondary btn-sm">&lt; Return</button></a>
    <h1>Add New Flight</h1>
    <form action="add" method="POST">
        <div class="form-group">
            <label for="flightNum">Flight Number</label>
            <input type="text" class="form-control" id="flightNum" name="flightNum">
        </div>
        <div class="form-group">
            <label for="year">Departure Year</label>
            <input type="text" class="form-control" id="year" name="year" value="{{ now.year }}">
        </div>
        <div class="form-group">
            <label for="month">Departure Month</label>
            <input type="text" class="form-control" id="month" name="month" value="{{ now.month }}">
        </div>
        <div class="form-group">
            <label for="day">Departure Day</label>
            <input type="text" class="form-control" id="day" name="day" value="{{ now.day }}">
        </div>
        <div class="form-group">
            <label for="hour">Departure Hour (24-Hour)</label>
            <input type="text" class="form-control" id="hour" name="hour">
        </div>
        <div class="form-group">
            <label for="minute">Departure Minute</label>
            <input type="text" class="form-control" id="minute" name="minute">
        </div>
        <p></p>
        <p id="timeCfrm"></p>
        <div class="form-group">
            <label for="from">Depature Code</label>
            <input type="text" class="form-control" id="from" name="from">
        </div>
        <div class="form-group">
            <label for="to">Destination Code</label>
            <input type="text" class="form-control" id="to" name="to">
        </div>
        <div class="form-group">
            <label for="price">Price (NT$)</label>
            <input type="text" class="form-control" id="price" name="price">
        </div>
        <div class="form-group">
            <label for="colNum">Col Number (small)</label>
            <input type="text" class="form-control" id="colNum" name="colNum">
        </div>
        <div class="form-group">
            <label for="rowNum">Row Number (Big)</label>
            <input type="text" class="form-control" id="rowNum" name="rowNum">
        </div>
        <p></p>
        <p id="seatNum"></p>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    <script>
        const log = document.getElementById('log');

        document.getElementById('rowNum').addEventListener('change', updateTotalSeating);
        document.getElementById('colNum').addEventListener('change', updateTotalSeating);
        document.getElementById('year').addEventListener('change', updateTime);
        document.getElementById('month').addEventListener('change', updateTime);
        document.getElementById('day').addEventListener('change', updateTime);
        document.getElementById('hour').addEventListener('change', updateTime);
        document.getElementById('minute').addEventListener('change', updateTime);

        function updateTotalSeating(e) {
            document.getElementById('seatNum').innerHTML = "Total Seat: " + (parseInt(document.getElementById('rowNum').value) * parseInt(document.getElementById('colNum').value)).toString();
            return
        }
        function updateTime(e) {
            document.getElementById('timeCfrm').innerHTML = "DateTime: " + document.getElementById('year').value + '/' + document.getElementById('month').value + '/' + document.getElementById('day').value + ' ' + document.getElementById('hour').value + ':' + document.getElementById('minute').value + ":00"
        }
    </script>
</body>

</html>